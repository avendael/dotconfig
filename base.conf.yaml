- defaults:
    link:
        relink: true

- clean: ['~', '~/.config']

- shell:
    - mkdir -p ~/.zsh

- link:
    ~/.config/git:
        create: true
        path: config/git
    ~/.config/nvim:
        create: true
        path: config/nvim
    ~/.config/powerline:
        create: true
        path: config/powerline
    ~/.tmux/:
        create: true
        glob: true
        path: tmux/*
    ~/.tmux.conf: tmux/init.conf
    ~/.zshenv: zsh/zshenv
    ~/.zshrc: zsh/zshrc

- shell:
    -
        command: \[ ! -d ~/.pyenv \] && curl https://pyenv.run | bash || echo "Pyenv already installed"
        stderr: true
        stdout: true
    - grep pyenv ~/.profile &> /dev/null || cat pyenv.profile >> ~/.profile
    - grep pyenv ~/.zprofile &> /dev/null || cat pyenv.profile >> ~/.zprofile

- shell:
    - [git submodule update --init --recursive, Installing submodules]
