- defaults:
    link:
        relink: true

- clean: ['~', '~/.config']

- shell:
    - mkdir -p ~/.zsh
    -
        command: python brew.py
        description: Install base apps
        stdin: true
        stdout: true
        stderr: true

- shell:
    -
        command: python defaults.py
        description: Set system defaults
        stdout: true
        stderr: true

- shell:
    -
        command: echo '-J-XX:+CMSClassUnloadingEnabled' >> /usr/local/etc/sbtopts
        description: Enable SBT class unloading
        stdout: true
        stderr: true

- shell:
    -
        command: echo '-J-Xmx2G' >> /usr/local/etc/sbtopts
        description: Increase SBT JVM memory to 2G
        stdout: true
        stderr: true

- link:
    ~/.config/:
        create: true
        glob: true
        path: config/*
    ~/.tmux/:
        create: true
        glob: true
        path: tmux/*
    ~/.tmux.conf: tmux/init.conf
    ~/.zshenv: zsh/zshenv
    ~/.zshrc: zsh/zshrc
